%\documentclass[hyperref={colorlinks=false},compress,handout,10pt]{beamer}
\documentclass[hyperref={colorlinks=false},handout,10pt]{beamer}
\usetheme{Singapore} % Berlin
\usecolortheme{lily} %{wolverine} %lily
\usefonttheme[onlymath]{serif} % What does this do? 

\newcommand{\mygreen}{\color{green!50!black}}
\newcommand{\myblue}{\color{blue}}
\newcommand{\myred}{\color{red}}
\xdefinecolor{titlecolor}{rgb}{.855,.647,.125}
\setbeamercolor{frametitle}{fg=titlecolor}
\setbeamerfont{frametitle}{series=\bfseries}
%\setbeamerfont{headline}{size=\fontsize{9}{1}}
\setbeamercolor{math text}{fg=green!50!black} % Why is the math text greeen?? 
\setbeamercolor{normal text in math text}{parent=math text}

\setbeamertemplate{navigation symbols}{} %gets rid of navigation symbols
%\setbeamertemplate{mini frames}{}
%\setbeamertemplate{mini frames}{}
%\setbeamertemplate{mini frames}{}
\setbeamertemplate{footline}[frame number]
\beamertemplateshadingbackground{blue!5}{yellow!10}


\usepackage{graphicx}
\usepackage{tikz}
\usepackage{handoutWithNotes}
\pgfpagesuselayout{4 on 1 with notes}[a4paper,border shrink=2mm]

\newlength{\wideitemsep}
\setlength{\wideitemsep}{\itemsep}
\addtolength{\wideitemsep}{100pt}
\let\olditem\item
\renewcommand{\item}{\setlength{\itemsep}{0.5\baselineskip}\olditem}


\def\LaTeXs{\LaTeX\ }

%\usetikzlibrary{calc,fadings,decorations.pathreplacing,backgrounds}
%% helper macros
%\tikzset{variable/.default=}  
%\tikzset{%
%    add/.style args={#1 and #2}{ to path={%
%    ($(\tikztostart)!-#1!(\tikztotarget)$)--($(\tikztotarget)!-#2!(\tikztostart)$)%
%\tikztonodes},add/.default={.2 and .2}}
%}  

%\tikzset{%
%    >=latex,
%    inner sep=0pt,
%    outer sep=2pt,
%    mark coordinate/.style={inner sep=0pt,outer sep=0pt,minimum size=2pt,
%    fill=black,circle}%
%}



\usepackage{listings}
\lstset{
basicstyle=\footnotesize\ttfamily,
numbers=left,
frame=bottomline,
framextopmargin=50pt,
}

\usepackage{amsmath,amsthm,amssymb}


\usepackage{float}
\floatstyle{boxed} % What does this do? 
\usepackage{mathpazo}
\usepackage{movie15}
\usepackage{bm}
%\usepackage{comment} % What does this do? 
\usepackage{caption}
\usepackage{subcaption}
\captionsetup[subfigure]{labelformat=empty}
\captionsetup[figure]{labelformat=empty}
\graphicspath{{./images/}}


\title{{\color{blue} \LARGE 550.400: Mathematical Modeling and Consulting\newline} }

\subtitle{{\color{red} \large Lecture Notes} }

\author{ 
    {\bf{Instructor:}} \\ 
Dr.~N.~H.~Lee \\ 
    \vspace{5pt}
} 
\institute{JHU AMS 2012 FALL}

\date{\mygreen Last Compiled on \today} 


\begin{document}

\begin{frame}[plain]
  \titlepage
\end{frame}

\begin{frame}
  \frametitle{Outline}
  \tableofcontents
\end{frame}

\section{\today's Lecture}
\subsection{Vim}

\begin{frame}
    \frametitle{Vim}
    \begin{block}
        {Vim is a \emph{highly customizable} text editor}
    \vskip0.1in
    \begin{enumerate}
        \item \LaTeX, R, C/C++, Java, Python, Git and etc.
        \item Regular expression, syntax coloring, auto-completion
        \item \texttt{<ESC>}-mode
        \begin{itemize}
            \item \texttt{:}-mode, aka., the last line mode
            \item \texttt{i}-mode, aka., the insert mode
        \end{itemize}
    \end{enumerate}
    \end{block}
\end{frame}

\begin{frame}
    \frametitle{Vim}
    \begin{itemize}
        \item Download \& Install GVim or MacVim
        \item Download \& Install tetris.vim
        \item Download \& Install minibufexpl.vim
        \item Download \& Install Gundo 
        \item Download \& Install Vim-LaTeX
    \end{itemize}
\end{frame}


\begin{frame}
    \frametitle{Vim}
    \begin{figure}
        \begin{center}
            \includegraphics[width=\textwidth]{images/vi-vim-tutorial-1.png}
        \end{center}
    \end{figure}
\end{frame}

\subsection{Git} 
\begin{frame}[allowframebreaks]
    \frametitle{Git Exercise}
    \begin{figure}
        \begin{center}
            \includegraphics[width=\textwidth]{images/gitmergehistory.png}
        \end{center}
    \end{figure}
    \begin{block}{Create a git folder with the following history}
         \begin{itemize}
             \item Each node's label signifies the commit 
             \item The folder contains only one single file \texttt{main.txt}
                 throughout the history
             \item KISS (See WMA for its meaning)
         \end{itemize}
    \end{block}
    \begin{block}{Class Exercise}
        Collect all 8 stanzas together with your neighbor.
        \begin{itemize}
            \item You do four of them 
            \item Your teammate do four of them
            \item Then, you combine yours with your teammate's
        \end{itemize}
    \end{block}
    
\end{frame}


\begin{frame}[fragile]
    \frametitle{Focus Problem}
    \begin{itemize}
        \item Objective: your own copy of the poem
        \item Rule 1: You write one stanza of the poem into the
            \texttt{main.tex} file
        \item Rule 2: You can collect all the others only by using the following
            commands:
        \begin{lstlisting}
git remote 
git pull 
git push
git fetch 
git merge
        \end{lstlisting}
    \end{itemize}
    
\end{frame}

\begin{frame}[allowframebreaks,fragile]
    \frametitle{Intro.\ to Using Git for Off-Line Teamwork}
    Places to set up a git for your group work: 
    \begin{itemize}
        \item Git Hub
        \item Dropbox
    \end{itemize}
    Why does it matter?
    \begin{itemize}
        \item It allows you to collaborate with others off-line
        \item You leave a trail of your contributions to the project
    \end{itemize}
    \begin{block}
        {In-Class Activities for setting up a github account}
        \begin{itemize}
            \item go to github.com
            \item initiate a git project from github
            \item set up your local folder 
            \item populate the folder with new contents
        \end{itemize}
    \end{block}
    \begin{figure}
        \begin{center}
            \includegraphics[width=0.8\textwidth]{images/gitmergeexample.png}
        \end{center}
    \end{figure}
    \begin{lstlisting}
git branch alice 
git checkout alice
git remote add altorigin git://git.com/do/not/copy/and/paste/this
git push origin alice
git branch -D alice
    \end{lstlisting}

    \begin{lstlisting}
git://github.com/nhlee/550400.stanza1.git 
git://github.com/nhlee/550400.stanza2.git 
git://github.com/nhlee/550400.stanza3.git 
git://github.com/nhlee/550400.stanza4.git 
git://github.com/nhlee/550400.stanza5.git 
git://github.com/nhlee/550400.stanza6.git 
git://github.com/nhlee/550400.stanza7.git 
git://github.com/nhlee/550400.stanza8.git 
    \end{lstlisting}
\end{frame}


\begin{frame}[allowframebreaks,fragile]
    \frametitle{Adv. Git Mehod for Off-Line Teamwork}
    \begin{lstlisting}
git format-patch master~2..master
    \end{lstlisting}
    \begin{figure}
        \begin{center}
            \includegraphics[width=0.7\textwidth]{images/gitformatpatch.png}
        \end{center}
    \end{figure}
\end{frame}


\begin{frame}[fragile,allowframebreaks]
    \frametitle{Using R to do System Admin Stuff}
    \begin{lstlisting}
for(itr in 1:8) {
    stanzaname = paste("stanza",itr,sep="")
    gitaddress = paste("git://github.com/nhlee/550400.",
                            stanzaname,".git",sep="")
    bashcommand = paste("git remote add ",
                            stanzaname," ",gitaddress,sep="")
    system(bashcommand)
}
    \end{lstlisting}
    \begin{itemize}
        \item \texttt{1:8} creates a vector that \ldots 
        \item \texttt{X = 1} assigns 1 to X 
        \item \texttt{X <- 1} also assigns 1 to X
        \item lots of things are done through function 
        \item \texttt{paste} and \texttt{system} are functions that \ldots 
        \item functions has none or more arguments 
        \item arguments are implicitly ordered but the order can be overridden
    \end{itemize}
    \begin{lstlisting}
system(`ls -ld .*')
system(`cat .Rprofile')
system(`cat .bashrc')
system(`cat .gitignore')
system(`cat .vimrc')
    \end{lstlisting}
    \begin{itemize}
        \item .xxx files are hidden
        \item ls -ld .* show the hidden files
        \item .Rprofile set up your R behavior
        \item .bashrc set up your bash behavior
        \item .gitignore set up your git behavior 
        \item .vimrc set up you vim behavior
        \item these files are equivalent to Preference part of your GUI
            software
    \end{itemize}
\end{frame}

\subsection{\LaTeX}
\begin{frame}[allowframebreaks,fragile]
    \frametitle{Intro.\ to work-statement template}
    \begin{lstlisting}
\documentclass[12pt,letterpaper][aritcle]
\usepackage{amsmath,amsthm,amssymb,amsfonts} # for popular math add-on
\usepackage{graphicx} # for inserting png, jpeg, pdf files as figure
\usepackage{bm} # for bold math
# some preamble stuff omitted (see the actual template)
\begin{document}
\section{A}
    \subsection{a}
        \paragraph{Hello World}
        \begin{align*}
            &f(x) = \int_0^1 \sin(u+x) du, \\
            &f(\bm x) = \int_0^1 \sin(u+\|\bm x\|) du.
        \end{align*}
\end{document}
    \end{lstlisting}
    
    
\end{frame}

\begin{frame}[allowframebreaks,fragile]
    \frametitle{Introduction to beamer}
    Basic Body Layer
    \begin{lstlisting}
\begin{document}
\section{Hello World} 
    \subsection{hello world}
        \begin{frame}
            \frametitle{hi world}
            \begin{columns}
                \begin{column}{0.5\textwidth}
                    \begin{itemize}
                        \item Alice!
                    \end{itemize}
                \end{column}
                \begin{column}{0.5\textwidth}
                    \begin{block}{hey world}
                        Bob!
                    \end{block}
                \end{column}
            \end{columns} 
        \end{frame}
\end{document}
    \end{lstlisting}
    Basic Preambles 
\begin{lstlisting}
\documentclass[hyperref={colorlinks=false},handout,10pt]{beamer}
\usetheme{Singapore}
\usecolortheme{lily}
\usefonttheme[onlymath]{serif} % What does this do? 
\end{lstlisting}    
    OR
\begin{lstlisting}
\documentclass[hyperref={colorlinks=false},handout,10pt]{beamer}
\usetheme{Berlin}
\usecolortheme{wolverine}
\usefonttheme[onlymath]{serif} % What does this do? 
\end{lstlisting}    
    For a more complete array of themes, go to: 
    \begin{center}
        \href{http://www.hartwork.org/beamer-theme-matrix/}{\beamergotobutton{http://www.hartwork.org/beamer-theme-matrix/}}
    \end{center}
SO, how to put a code in the slide? and it looks like codes? 
\begin{columns}
    \begin{column}{0.5\textwidth}
    \begin{verbatim}
\begin{lstlisting}
require(tikzDevice)
x = rnorm(100)
plot.ts(x)
dev.off()
\end{lstlisting}
    \end{verbatim}
    \end{column}
    \begin{column}{0.5\textwidth}
\begin{lstlisting}
require(tikzDevice)
x = rnorm(100)
plot.ts(x)
dev.off()
\end{lstlisting}
    \end{column}
\end{columns} 
But, this requires the following in the preamble portion 
of your tex file:
\begin{verbatim}
\usepackage{listings}
\lstset{
basicstyle=\footnotesize\ttfamily,
numbers=left,
frame=bottomline,
framextopmargin=50pt,
}
\end{verbatim}
Where to get more help:
\begin{center}
    \href{http://en.wikibooks.org/wiki/LaTeX/Presentations}{
    \beamergotobutton{http://en.wikibooks.org/wiki/LaTeX/Presentations}}
\end{center}
\end{frame}


\subsection{Causality \& Spurious Correlation}

\begin{frame}[allowframebreaks,fragile]
    \frametitle{Spurious Causality}
    \begin{lstlisting}
CBE <- read.table('http://www.massey.ac.nz/~pscowper/ts/cbe.dat')
Ets <- ts(CBE[,3], start = 1958, freq=12)
Cts <- ts(CBE[,2], start = 1958, freq=12)
plot(as.vector(aggregate(Cts)),as.vector(aggregate(Ets)))
    \end{lstlisting}
    \begin{lstlisting}
set.seed(10)
x <- rnorm(100)
y <- rnorm(100)
for(i in 2:100) {
    x[i] <- x[i-1] + rnorm(1)
    y[i] <- y[i-1] + rnorm(1)
}
plot(x,y)
    \end{lstlisting}
    \begin{lstlisting}
xrates <- read.table(
    `http://www.massey.ac.nz/~pscowper/ts/us_rates.dat')
plot(xrates$UK,xrates$EU,pch=4)
require(tseries)
pp.test(xrates$UK)
pp.test(xrates$EU)
    \end{lstlisting}

    \begin{lstlisting}
x <- y <- mu <- rep(0,1000)
for(i in 2:1000) mu[i] <- mu[i-1] + rnorm(1)
x <- mu + rnorm(1000)
y <- mu + rnorm(1000)
adf.test(x)$p.value
adf.test(y)$p.value
po.test(cbind(x,y))
    \end{lstlisting}

    \begin{lstlisting}
po.test(cbind(xrates$UK,xrates$EU))
ukeu.lm <- lm(xrates$UK ~ xrates$EU)
ukeu.res <- resid(ukeu.lm)
ukeu.res.ar <- ar(ukeu.res)
ukeu.res.ar$order
    \end{lstlisting}
\end{frame}


\begin{frame}[fragile]
    \frametitle{How to do software documentation using R}
     \begin{lstlisting}
myfun <- function(x) {x^2} 
package.skeleton(name='MYPAC', 
                list='myfun',  
                path='~/')
#Do the documentation
system('R CMD check ~/MYPAC')
system('R CMD build ~/MYPAC')
system('R CMD install MYPAC')
     \end{lstlisting}
\end{frame}

\subsection{Math Model Building}

\begin{frame}
    \frametitle{A Word Problem}
    \begin{verse} 
        To encourage Elmer's promising tennis career, his father offers him a
        prize if he wins (at least) two tennis sets in a row in a three-set
        series to be played with his father and the club  champion
        alternately: father-champion-father or champion-father-champion,
        according to Elmer's choice. The champion is a better player than
        Elmer's father. Which series should Elmer choose?
    \end{verse}
  \vskip0.1in
  \begin{itemize}
      \item What is that you wish to know?
      \item unimportant, exogenous, and endogenous?
      \item if the model fits the situation, will we be able to use it? 
      \item Test the model
  \end{itemize}
\end{frame}

\begin{frame}[allowframebreaks]
    \frametitle{Arguments from Scale}
    \begin{block} {Cost of Packing}

    \end{block}
    \begin{block}{Speed of Racing Shells}
        
    \end{block}
    \begin{block}{Size Effect in Animal}
        
    \end{block}
\end{frame}

%\input{Aclassinfo.tex}
%\input{Bmathmodeling.tex}
%\input{Cexamples.tex}
%\input{Dtutorials.tex}
%\input{Exercises.tex}
%\input{Fproject.tex}

\end{document}
